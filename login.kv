MDScreen:
    name: "login"
    MDFloatLayout:
        md_bg_color: (255/255, 255/255, 255/255, 1)
        Image:
            source:"muscle.png"
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
        MDLabel:
            id: error
            text: ""
            theme_text_color: "Custom"
            text_color: "red"
            font_size:20
            pos_hint: {"center_x": 0.7, "center_y": 0.2}
        MDTextField:
            id: name_field
            hint_text: "Name"
            max_text_length: 15
            pos_hint: {"center_x": .5, "center_y": .65}
            size_hint_x: .8
            mode: "round"
        MDTextField:
            id: date
            hint_text: "Date dd/mm/yyyy"
            max_text_length: 10
            size_hint_x: .8
            pos_hint: {"center_x": .5, "center_y": .28}
            date_format: "dd/mm/yyyy"
            mode: "round"
            background_color: (169/255, 169/255, 169/255, 1)
        MDTextField:
            id: kilograms
            hint_text: "Enter your weight"
            mode: "round"
            max_text_length: 3
            size_hint_x: .8
            helper_text: "Kilograms"
            pos_hint: {"center_x": .5, "center_y": .53}
        MDTextField:
            id:height
            hint_text: "Enter your height"
            max_text_length: 3
            line_width: 2  # sets the width of the line
            mode: "round"
            helper_text: "in cm"
            size_hint_x: .8
            pos_hint: {"center_x": .5, "center_y": .4}
        MDFillRoundFlatButton:
            text: "Continue"
            text_color: "white"
            font_size: 30
            font_name: "Roboto"
            size_hint:(0.6, 0.1)
            pos_hint: {'center_x': 0.5, 'center_y':0.1}
            md_bg_color: (169/255, 169/255, 169/255, 1)
            on_press:
                username = name_field.text
                kg = kilograms.text
                heigh = height.text
                date_user = date.text
                count_username = len(username)
                count_kg = len(kg)
                count_height = len(heigh)
                count_date = len(date_user)
                app.root.get_screen('main_menu').ids.hello.text = f"Welcome, {username}"
                app.root.get_screen('stats').ids.stats_username.text = username
                app.root.get_screen('stats').ids.stats_kg.text = kg
                app.root.get_screen('stats').ids.stats_height.text = heigh
                app.root.get_screen('stats').ids.stats_data.text = date_user
                root.manager.current = "main_menu" if count_username >   0 and count_kg > 0 and count_height > 0 and count_date > 0 else app.update_error_text()
